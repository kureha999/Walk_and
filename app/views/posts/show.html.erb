<% content_for :title do %>
<%= @post.user.name %>の投稿詳細ページ
<% end %>

<h1 class="text-center text-3xl font-bold text-logo-brown bg-background-blue p-6 rounded-lg">投稿詳細</h1>

<div class="mt-4 text-center">
  <p class="font-semibold text-xl text-logo-brown">投稿者: <%= @post.user.name %></p>
</div>


<% if @post.liked_by?(current_user) %>
<p>
  <%= link_to post_likes_path(@post), method: :delete, data: { turbo: false } do %>
  <i class="fa-solid fa-heart fa-2x" style="color: #ff0088;"></i>
  <%= @post.likes.count %> いいね
  <% end %>
</p>
<% else %>
<p>
  <%= link_to post_likes_path(@post), method: :post do %>
  <i class="fa-regular fa-heart fa-2x" style="color: #000000;"></i>
  <%= @post.likes.count %> いいね
  <% end %>
</p>
<% end %>


<div class="mt-4">
  <% if @post.image.attached? %>
  <%= image_tag @post.image, class: "w-full h-auto rounded-lg shadow-md" %>
  <% else %>
  <!-- 画像が添付されていない場合の処理 -->
  <%= image_tag 'walk_top.jpg', alt: 'デフォルト画像', class: "w-full h-auto rounded-lg shadow-md" %>
  <% end %>
</div>

<div class="mt-4 p-6 bg-logo-brown text-text-cream rounded-lg shadow-md">
  <p class="whitespace-pre-line"><%= @post.body %></p>
</div>

<!-- コメント一覧 -->
<%= render 'comments/comment_list', post: @post %>

<!-- コメントフォーム -->
<%= render 'comments/comment_form', post: @post %>